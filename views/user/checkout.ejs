<%- include('navbar.ejs') %>
  <!-- Breadcrumbs -->
  <section class="breadcrumb-section py-3 bg-light">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="/">Home</a></li>
                <li class="breadcrumb-item"><a href="/cart">Cart</a></li>
                <li class="breadcrumb-item active">Checkout</li>
            </ol>
        </nav>
    </div>
</section>
<form action="/place_holder" method="post">
<!-- Checkout Section -->
<section class="checkout-section py-5">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="mb-4">Checkout</h2>
            </div>
        </div>
        
        <div class="row">
            <!-- Checkout Form -->
            <div class="col-lg-8">
               
                
                <!-- Shipping Information -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="bi bi-truck me-2"></i>Shipping Information
                        </h5>
                    </div>
                    <div class="card-body">
                       
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="firstName" class="form-label">First Name *</label>
                                    <input type="text" class="form-control" id="firstName" required name="first_name">
                                    <div class="invalid-feedback">
                                        Please provide your first name.
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="lastName" class="form-label">Last Name *</label>
                                    <input type="text" class="form-control" id="lastName" required name="last_name">
                                    <div class="invalid-feedback">
                                        Please provide your last name.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="email" class="form-label">Email Address *</label>
                                <input type="email" class="form-control" id="email" required name="email">
                                <div class="invalid-feedback">
                                    Please provide a valid email address.
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="phone" class="form-label">Phone Number *</label>
                                <input type="tel" class="form-control" id="phone" required name="phone">
                                <div class="invalid-feedback">
                                    Please provide a valid phone number.
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="address" class="form-label">Street Address *</label>
                                <input type="text" class="form-control" id="address" 
                                placeholder="123 Main Street" required name="address">
                                <div class="invalid-feedback">
                                    Please provide your street address.
                                    </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-4 mb-3">
                                    <label for="city" class="form-label">City *</label>
                                    <input type="text" class="form-control" id="city" required name="city">
                                    <div class="invalid-feedback">
                                        Please provide your city.
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="state" class="form-label">State *</label>
                                    <select class="form-select" id="state" required name="state">
                                        <option value="">Choose...</option>
                                        <option value="Maharashtra">Maharashtra</option>
                                        <option value="Utter Pradesh">Utter Pradesh</option>
                                        <option value="Gujrat">Gujrat</option>
                                        <option value="Rajasthan">Rajasthan</option>
                                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                                    </select>
                                    <div class="invalid-feedback">
                                        Please select your state.
                                    </div>
                                </div>
                                <div class="col-md-4 mb-3">
                                    <label for="zipCode" class="form-label">ZIP Code *</label>
                                    <input type="text" class="form-control" id="zipCode" required name="zip_code">
                                    <div class="invalid-feedback">
                                        Please provide your ZIP code.
                                    </div>
                                </div>
                            </div>
                            
                    </div>
                </div>
                
               
                <!-- Payment Method -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="bi bi-credit-card me-2"></i>Payment Method
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment" id="online" value="online" checked>
                                    <label class="form-check-label" for="online">
                                        <i class="bi bi-credit-card me-2"></i>UPT/ Cards/ Net Banking payment
                                    </label>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment" id="cod" value="cod">
                                    <label class="form-check-label" for="cod">
                                        <i class="bi bi-cash me-2"></i>Cash On Delivery
                                    </label>
                                </div>
                            </div>
                        </div>
                        
                       
                    </div>
                </div>
                
                <!-- Order Notes -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="bi bi-chat-text me-2"></i>Order Notes (Optional)
                        </h5>
                    </div>
                    <div class="card-body">
                        <textarea class="form-control" rows="3" placeholder="Any special instructions for your order..." name="notes"></textarea>
                    </div>
                </div>
            </div>
            
            <!-- Order Summary -->
            <div class="col-lg-4">
                <div class="order-summary">
                    <h5 class="mb-3">Order Summary</h5>
                    
                    <!-- Order Items -->
                    <div class="order-items mb-3">
                        <%
                          var subtotal = 0;
                          for(var i=0; i<carts.length; i++){
                            var unit = Number(carts[i].variation_price) || 0;
                            var qty = Number(carts[i].quantity) || 0;
                            var line = unit * qty;
                            subtotal += line;
                        %>
                        <div class="d-flex align-items-center mb-2">
                            <img src="/uploads/<%- carts[i].product_main_image %>" 
                                 class="cart-item-image me-3" alt="<%- carts[i].product_name %>">
                            <div class="flex-grow-1">
                                <h6 class="mb-1"><%- carts[i].product_name %></h6>
                                <small class="text-muted"><%- carts[i].color %> â€¢ <%- carts[i].variation_title %></small>
                                <div class="d-flex justify-content-between">
                                    <span>Qty: <%- qty %></span>
                                    <span>&#8377; <%- line %></span>
                                </div>
                            </div>
                        </div>
                        <% } %>
                        <% if(carts.length === 0){ %>
                        <div class="text-muted">Your cart is empty.</div>
                        <% } %>
                    </div>
                    
                    <hr>
                    
                    <div class="d-flex justify-content-between mb-2">
                        <span>Subtotal (<%- carts.length %> items)</span>
                        <span>&#8377; <span id="summary-subtotal"><%- subtotal || 0 %></span></span>
                    </div>
                    
                    <div class="d-flex justify-content-between mb-2">
                        <span>Shipping</span>
                        <span class="text-success" id="shipping-cost">Free</span>
                    </div>
                    
                    <div class="d-flex justify-content-between mb-2">
                        <span>Tax</span>
                        <span>&#8377; 0.00</span>
                    </div>
                    
                    <hr>
                    
                    <div class="d-flex justify-content-between mb-4">
                        <strong>Total</strong>
                        <strong id="total-amount">&#8377; <span id="summary-total"><%- subtotal || 0 %></span></strong>
                    </div>
                    
                    <button class="btn btn-primary w-100 btn-lg mb-3" type="submit" <%- carts.length === 0 ? 'disabled' : '' %>>
                        <i class="bi bi-lock-fill me-2"></i>Place Order
                    </button>
                    
                    <div class="text-center">
                        <small class="text-muted">
                            <i class="bi bi-shield-check me-1"></i>
                            Your payment information is secure and encrypted
                        </small>
                    </div>
                    
                    <!-- Security Badges -->
                    <div class="text-center mt-4">
                        <div class="d-flex justify-content-center gap-3">
                            <i class="bi bi-shield-check text-success" style="font-size: 1.5rem;"></i>
                            <i class="bi bi-lock-fill text-primary" style="font-size: 1.5rem;"></i>
                            <i class="bi bi-credit-card text-info" style="font-size: 1.5rem;"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


</form>
<%- include('footer.ejs') %>